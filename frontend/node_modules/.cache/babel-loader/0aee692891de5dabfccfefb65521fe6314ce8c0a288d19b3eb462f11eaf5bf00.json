{"ast":null,"code":"const API_BASE_URL = 'http://localhost:5001';\n\n// Helper function to handle API responses\nconst handleResponse = async response => {\n  if (!response.ok) {\n    const errorData = await response.json().catch(() => ({}));\n    throw new Error(errorData.error || `HTTP error! status: ${response.status}`);\n  }\n  return response.json();\n};\n\n// Generate a session ID for cart operations\nconst getSessionId = () => {\n  let sessionId = localStorage.getItem('cart_session_id');\n  if (!sessionId) {\n    sessionId = 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);\n    localStorage.setItem('cart_session_id', sessionId);\n  }\n  return sessionId;\n};\n\n// Product API\nexport const productAPI = {\n  // Get all products\n  getProducts: async () => {\n    const response = await fetch(`${API_BASE_URL}/api/products`);\n    return handleResponse(response);\n  },\n  // Get single product by ID\n  getProduct: async id => {\n    const response = await fetch(`${API_BASE_URL}/api/products/${id}`);\n    return handleResponse(response);\n  },\n  // Get products by category\n  getProductsByCategory: async categorySlug => {\n    const response = await fetch(`${API_BASE_URL}/api/categories/${categorySlug}/products`);\n    return handleResponse(response);\n  }\n};\n\n// Category API\nexport const categoryAPI = {\n  // Get all categories\n  getCategories: async () => {\n    const response = await fetch(`${API_BASE_URL}/api/categories`);\n    return handleResponse(response);\n  }\n};\n\n// Cart API\nexport const cartAPI = {\n  // Get cart contents\n  getCart: async () => {\n    const sessionId = getSessionId();\n    const response = await fetch(`${API_BASE_URL}/api/cart/${sessionId}`);\n    return handleResponse(response);\n  },\n  // Add item to cart\n  addToCart: async (productId, size, quantity = 1) => {\n    const sessionId = getSessionId();\n    const response = await fetch(`${API_BASE_URL}/api/cart/${sessionId}/items`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        productId,\n        size,\n        quantity\n      })\n    });\n    return handleResponse(response);\n  },\n  // Update cart item quantity\n  updateCartItem: async (itemId, quantity) => {\n    const response = await fetch(`${API_BASE_URL}/api/cart/items/${itemId}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        quantity\n      })\n    });\n    return handleResponse(response);\n  },\n  // Remove cart item\n  removeCartItem: async itemId => {\n    const response = await fetch(`${API_BASE_URL}/api/cart/items/${itemId}`, {\n      method: 'DELETE'\n    });\n    return handleResponse(response);\n  },\n  // Clear entire cart\n  clearCart: async () => {\n    const sessionId = getSessionId();\n    const response = await fetch(`${API_BASE_URL}/api/cart/${sessionId}`, {\n      method: 'DELETE'\n    });\n    return handleResponse(response);\n  }\n};\n\n// The following types are now just comments for reference:\n// \n// Product: {\n//   id, name, description, price, originalPrice, discount, rating, reviews,\n//   category, categorySlug, images, sizes, inStock, stockLeft, isFeatured,\n//   care?, returnPolicy?\n// }\n//\n// Category: { id, name, slug, description, image, productCount }\n//\n// CartItem: { id, productId, name, size?, quantity, price, image }\n//\n// CartResponse: { cartId, items, subtotal }","map":{"version":3,"names":["API_BASE_URL","handleResponse","response","ok","errorData","json","catch","Error","error","status","getSessionId","sessionId","localStorage","getItem","Date","now","Math","random","toString","substr","setItem","productAPI","getProducts","fetch","getProduct","id","getProductsByCategory","categorySlug","categoryAPI","getCategories","cartAPI","getCart","addToCart","productId","size","quantity","method","headers","body","JSON","stringify","updateCartItem","itemId","removeCartItem","clearCart"],"sources":["/Users/rudragahlot/Desktop/niya_creation/frontend/src/services/api.js"],"sourcesContent":["const API_BASE_URL = 'http://localhost:5001';\n\n// Helper function to handle API responses\nconst handleResponse = async (response) => {\n    if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.error || `HTTP error! status: ${response.status}`);\n    }\n    return response.json();\n};\n\n// Generate a session ID for cart operations\nconst getSessionId = () => {\n    let sessionId = localStorage.getItem('cart_session_id');\n    if (!sessionId) {\n        sessionId = 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);\n        localStorage.setItem('cart_session_id', sessionId);\n    }\n    return sessionId;\n};\n\n// Product API\nexport const productAPI = {\n    // Get all products\n    getProducts: async () => {\n        const response = await fetch(`${API_BASE_URL}/api/products`);\n        return handleResponse(response);\n    },\n\n    // Get single product by ID\n    getProduct: async (id) => {\n        const response = await fetch(`${API_BASE_URL}/api/products/${id}`);\n        return handleResponse(response);\n    },\n\n    // Get products by category\n    getProductsByCategory: async (categorySlug) => {\n        const response = await fetch(`${API_BASE_URL}/api/categories/${categorySlug}/products`);\n        return handleResponse(response);\n    }\n};\n\n// Category API\nexport const categoryAPI = {\n    // Get all categories\n    getCategories: async () => {\n        const response = await fetch(`${API_BASE_URL}/api/categories`);\n        return handleResponse(response);\n    }\n};\n\n// Cart API\nexport const cartAPI = {\n    // Get cart contents\n    getCart: async () => {\n        const sessionId = getSessionId();\n        const response = await fetch(`${API_BASE_URL}/api/cart/${sessionId}`);\n        return handleResponse(response);\n    },\n\n    // Add item to cart\n    addToCart: async (productId, size, quantity = 1) => {\n        const sessionId = getSessionId();\n        const response = await fetch(`${API_BASE_URL}/api/cart/${sessionId}/items`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({ productId, size, quantity }),\n        });\n        return handleResponse(response);\n    },\n\n    // Update cart item quantity\n    updateCartItem: async (itemId, quantity) => {\n        const response = await fetch(`${API_BASE_URL}/api/cart/items/${itemId}`, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({ quantity }),\n        });\n        return handleResponse(response);\n    },\n\n    // Remove cart item\n    removeCartItem: async (itemId) => {\n        const response = await fetch(`${API_BASE_URL}/api/cart/items/${itemId}`, {\n            method: 'DELETE',\n        });\n        return handleResponse(response);\n    },\n\n    // Clear entire cart\n    clearCart: async () => {\n        const sessionId = getSessionId();\n        const response = await fetch(`${API_BASE_URL}/api/cart/${sessionId}`, {\n            method: 'DELETE',\n        });\n        return handleResponse(response);\n    }\n};\n\n// The following types are now just comments for reference:\n// \n// Product: {\n//   id, name, description, price, originalPrice, discount, rating, reviews,\n//   category, categorySlug, images, sizes, inStock, stockLeft, isFeatured,\n//   care?, returnPolicy?\n// }\n//\n// Category: { id, name, slug, description, image, productCount }\n//\n// CartItem: { id, productId, name, size?, quantity, price, image }\n//\n// CartResponse: { cartId, items, subtotal }\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}